import React from 'react'
import { Link, navigate } from 'gatsby'
import { getUser, isLoggedIn, logout } from '../../services/auth'

// stylesheets
import * as styles from './Navigation.module.css'
// import { generateImageData } from 'gatsby-plugin-image'

export default function Navigation() {
  return (
    <>
      <nav id={styles.mainNav}>
          <ul>
            {isLoggedIn()
              ?
                <>
                  <li>
                    <Link
                      to='/'
                      className={styles.link}
                    >
                      <svg
                        width="22"
                        height="19"
                        viewBox="0 0 22 19"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M11.54 0.0549927L21.08 8.75498L20.015 9.81998L18.5 8.44617V18.235L17.75 18.985H13.25L12.5 18.235V12.985H9.50001V18.235L8.75001 18.985H4.25001L3.50001 18.235L3.5 8.45749L2.00001 9.81998L0.935013 8.75498L10.46 0.0549927H10.475H11.525H11.54ZM5.00001 7.09498V17.485H8.00001V12.235L8.75001 11.485H13.25L14 12.235V17.485H17V7.08594L11 1.64499L5.00001 7.09498Z"
                          fill="#C5C5C5"/>
                      </svg>
                    </Link>
                  </li>
                  <li>
                    <Link
                      to='/'
                      className={styles.link}
                      onClick={event => {
                        event.preventDefault()
                        logout(() => navigate(`/`))
                      }}
                    >
                      <svg
                        width="26"
                        height="20"
                        viewBox="0 0 26 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M24.8542 10.6375L16.651 18.8406C15.9186 19.573 14.6491 19.0604 14.6491 18.0105V13.323H8.00845C7.35904 13.323 6.83658 12.8006 6.83658 12.1512V7.46367C6.83658 6.81426 7.35904 6.2918 8.00845 6.2918H14.6491V1.6043C14.6491 0.559375 15.9137 0.0417966 16.651 0.774219L24.8542 8.97734C25.3083 9.43633 25.3083 10.1785 24.8542 10.6375ZM9.96158 18.5965V16.6434C9.96158 16.3211 9.69791 16.0574 9.37564 16.0574H5.27408C4.40982 16.0574 3.71158 15.3592 3.71158 14.4949V5.11992C3.71158 4.25566 4.40982 3.55742 5.27408 3.55742H9.37564C9.69791 3.55742 9.96158 3.29375 9.96158 2.97148V1.01836C9.96158 0.696094 9.69791 0.432422 9.37564 0.432422H5.27408C2.68619 0.432422 0.586578 2.53203 0.586578 5.11992V14.4949C0.586578 17.0828 2.68619 19.1824 5.27408 19.1824H9.37564C9.69791 19.1824 9.96158 18.9187 9.96158 18.5965Z" />
                      </svg>
                    </Link>
                  </li>
                </>
              : ''
                // <li>
                //   <Link
                //     to='/'
                //     className={styles.link}
                //     onClick={event => {
                //       event.preventDefault()
                //       logout(() => navigate(`/app/login`))
                //     }}
                //   >
                //     <svg
                //       width="26"
                //       height="20"
                //       viewBox="0 0 26 20"
                //       fill="none"
                //       xmlns="http://www.w3.org/2000/svg"
                //     >
                //       <path
                //         d="M20.8991 18.875H16.7975C16.4753 18.875 16.2116 18.6113 16.2116 18.2891V16.3359C16.2116 16.0137 16.4753 15.75 16.7975 15.75H20.8991C21.7633 15.75 22.4616 15.0518 22.4616 14.1875V4.8125C22.4616 3.94824 21.7633 3.25 20.8991 3.25H16.7975C16.4753 3.25 16.2116 2.98633 16.2116 2.66406V0.710938C16.2116 0.388672 16.4753 0.125 16.7975 0.125H20.8991C23.487 0.125 25.5866 2.22461 25.5866 4.8125V14.1875C25.5866 16.7754 23.487 18.875 20.8991 18.875ZM18.6042 9.06055L10.401 0.857422C9.66861 0.125 8.39908 0.637695 8.39908 1.6875V6.375H1.75845C1.10904 6.375 0.586578 6.89746 0.586578 7.54688V12.2344C0.586578 12.8838 1.10904 13.4062 1.75845 13.4062H8.39908V18.0938C8.39908 19.1436 9.66861 19.6562 10.401 18.9238L18.6042 10.7207C19.0583 10.2617 19.0583 9.51953 18.6042 9.06055Z" />
                //     </svg>
                //   </Link>
                // </li>
            }
          </ul>
          
      </nav>
    </>
  )
}